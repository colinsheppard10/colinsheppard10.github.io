(this.webpackJsonpabtest=this.webpackJsonpabtest||[]).push([[0],{16:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r,c=n(1),i=n.n(c),a=n(8),s=n.n(a),o=(n(16),n(4)),u=n.n(o),d=n(9),h=n(2),l=n(6),p=n(5),m=function(e,t,n,r){var c,i=Object(h.a)(t.anchors,2),a=i[0],s=i[1],o=Object(h.a)(t.angles,2),u=o[0],d=o[1],l=function(e){var t=e.start,n=e.repCompletionPercent,r=e.end;return r<t&&(t*=-1,n*=-1,r*=-1),{start:t,repCompletionPercent:n,end:r}}({start:u,repCompletionPercent:c=function(e){var t=e.p1,n=e.p2;return t.y>n.y?0:100}({p1:e[a],p2:e[s]}),end:d});return u=l.start,c=l.repCompletionPercent,d=l.end,null!=c&&100==c?0==n&&(r+=3,n=1):null!=c&&0==c&&1==n&&(n=0),{direction:n,count:r,repCompletionPercent:c}},j=n(10);!function(e){e.BINARY="BINARY",e.ANGLE="ANGLE"}(r||(r={}));var v=function e(t){var n=t.name,r=t.anchors,c=t.angles,i=t.reps,a=t.startInverted,s=t.type;Object(j.a)(this,e),this.anchors=void 0,this.angles=void 0,this.startInverted=void 0,this.name=void 0,this.type=void 0,this.reps=void 0,this.name=n,this.anchors=r,this.angles=c,this.reps=i,this.startInverted=a,this.type=s},f=[new v({name:"CURLS",anchors:[16,14,0],angles:[0,100],reps:10,startInverted:!1,type:r.BINARY}),new v({name:"PULL UP",anchors:[6,16,9],angles:[0,100],reps:10,startInverted:!0,type:r.BINARY}),new v({name:"SHR PRS",anchors:[16,0,0],angles:[0,100],reps:10,startInverted:!1,type:r.BINARY})],b=n(11),O=n.n(b),g=n(0),w=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(h.a)(i,2),s=a[0],o=a[1],j=Object(c.useRef)(null),v=Object(c.useRef)(null),b=Object(c.useRef)(null),w=f[2],x=Object(c.useState)((function(){return console.log("in here"),{direction:0,count:21,repCompletionPercent:0}})),C=Object(h.a)(x,2),I=C[0],P=C[1];Object(c.useEffect)((function(){if(n&&j.current&&v.current){b.current=v.current.getContext("2d");navigator.mediaDevices.getUserMedia({video:{width:{min:1280},height:{min:720}}}).then((function(e){j.current&&(j.current.srcObject=e),t()}));var e=new p.Pose({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/pose/".concat(e)}});e.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!0,smoothSegmentation:!0,minDetectionConfidence:.5,minTrackingConfidence:.5}),e.onResults(k);var t=function(){var n=Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!j.current){n.next=8;break}if(j.current.videoWidth){n.next=5;break}requestAnimationFrame(t),n.next=8;break;case 5:return n.next=7,e.send({image:j.current});case 7:requestAnimationFrame(t);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}}),[n]);var k=function(e){if(v.current&&b.current){o(!0),b.current.save(),b.current.clearRect(0,0,v.current.width,v.current.height),b.current.drawImage(e.image,0,0,v.current.width,v.current.height),Object(l.drawConnectors)(b.current,e.poseLandmarks,p.POSE_CONNECTIONS,{color:"#00FF00",lineWidth:4}),Object(l.drawLandmarks)(b.current,e.poseLandmarks,{color:"#FF0000",lineWidth:2}),b.current.restore();var t=e.poseLandmarks;if(t){var n=I.direction,r=I.count;P(m(t,w,n,r))}}},L=I.repCompletionPercent,R=I.count;return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:f.map((function(e){return Object(g.jsx)("div",{onClick:function(){},children:e.name})}))}),Object(g.jsx)("div",{children:R}),Object(g.jsxs)("div",{children:[Object(g.jsx)(O.a,{transitionDuration:".5s",completed:L}),";"]}),Object(g.jsx)("video",{autoPlay:!0,height:0,width:0,ref:function(e){j.current=e,r(!!e)}}),Object(g.jsx)("canvas",{ref:v,width:window.screen.availWidth-10,height:window.screen.availHeight-100}),!s&&Object(g.jsx)("div",{className:"message",children:"Loading"})]})},x=function(){return Object(g.jsx)(w,{})};var C=function(){return Object(g.jsx)(x,{})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};s.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root")),I()}},[[22,1,2]]]);
//# sourceMappingURL=main.7eaf8164.chunk.js.map